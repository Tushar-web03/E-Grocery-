Acccount Controoler 
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.Mvc;
using EGroceryStore.Models;


namespace EGroceryStore.Controllers
{
    public class AccountController : Controller
    {
        EGroceryContext db = new EGroceryContext();

        // Registration Page view call
        public ActionResult Register()
        {
            return View();
        }


        // Registartion saved successfully
        [HttpPost]
        public ActionResult Register(Customer customer)
        {
            if (ModelState.IsValid)
            {
                db.Customers.Add(customer);
                db.SaveChanges();
                ViewBag.Message = "Registration Successful!";
                return RedirectToAction("Login");
            }
            return View(customer);
        }


        // Login Page view call
        [OutputCache(NoStore = true, Duration = 0, VaryByParam = "*")]
        public ActionResult Login()
        {
            return View();
        }


        // Login checsk for customer and admin 
        [HttpPost]
        public ActionResult Login(string Email, string Password)
        {
            //check admin
            var admin = db.Admins.FirstOrDefault(a => a.Username == Email && a.Password == Password);
            if (admin != null)
            {
                Session["AdminId"] = admin.AdminId;
                Session["Username"] = admin.Username;
                Session["UserRole"] = "Admin";
                return RedirectToAction("Index", "Product");
            }
            //check customer
            var customer = db.Customers.FirstOrDefault(c => c.Email == Email && c.Password == Password);
            if (customer != null)
            {
                Session["CustomerId"] = customer.CustomerId;
                Session["Username"] = customer.Name;
                Session["UserRole"] = "Customer";
                return RedirectToAction("Shop", "Product");
            }
            ViewBag.Error = "Invalid Email or Password";
            return View();
        }


        // Loout call 
        public ActionResult Logout()
        {
            Session.Clear();
            return RedirectToAction("Index", "Home");
        }
    }
}